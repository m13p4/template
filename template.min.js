/* Meliantchenkov Pavel | @license https://github.com/m13p4/template/blob/master/LICENSE */
var Template=function(){function n(e,k){for(var c=k||"p"+Math.floor(1E6*Math.random()),a=k?"":"var "+c+"='',print=function(s){"+c+"+=s;};\n",f,b,d,h,g=0,m=0,u=RegExp("<\\/?\\s*\\{([\\s\\S]*?)\\}\\s*\\/?>","g");(f=u.exec(e))&&1E4>m++;)b=e.substring(g,f.index),g=f.index+f[0].length,a+=c+"+="+JSON.stringify(b)+";",d="",b=f[1].trim(),-1<(h=b.indexOf(":"))?(d=b.substr(0,h).trim(),b=b.substr(h+1).trim()):p.test(b.toLowerCase())&&(d=b,b=""),d=d.toLowerCase(),"</"==f[0].substr(0,2)?a+="}":""==d?a+=c+"+="+
b+";//*/\n":p.test(d)&&(q.test(d)?"for"==d&&-1<(h=b.indexOf("=>"))?(d=b.substr(0,h).trim(),b=b.substr(h+2).split(",",2),h="p"+Math.floor(1E6*Math.random()),a+=" var "+b.join("//*/\n,")+"//*/\nfor(var "+h+" in "+d+"//*/\n){ ",a=1==b.length?a+(b[0]+"//*/\n="+d+"//*/\n["+h+"];"):a+(b[1]+"//*/\n="+d+"//*/\n["+h+"]; "+b[0]+"//*/\n="+h+";")):a="else"==d?a+"}else{":a+((0==d.indexOf("else")?"}":"")+d+"("+b+"//*/\n){"):r.test(d)?a+=b+"//*/\n":t.test(d)&&(a+=l[b]?n(l[b].t,c):""));return a+=c+"+="+JSON.stringify(e.substring(g))+
";"+(k?"":" return "+c+";")}var g={},m=/tmpl|template/,q=/if|else|else\s*if|for|while/,r=/js|code/,t=/imp(ort)?|inc(lude)?|req(uire)?/,p=new RegExp("^"+[q.source,r.source,t.source].join("|")+"$"),l={};g.addTemplate=function(e,k){l[e]={t:k};return g};g.readTemplate=function(e){var k=new RegExp("<\\/?\\s*\\{\\s*("+m.source+")\\s*:?\\s*([\\s\\S]*?)\\}\\s*\\/?>","gi"),c=0,a,f;"string"!=typeof e&&"function"==typeof Buffer&&Buffer.isBuffer(e)&&(e=e.toString());if("string"!=(a=typeof e))throw'need a "string", "'+
a+'" was given.';for(;(f=k.exec(e))&&1E3>c++;)if(a=f[0],"</"==a.substr(0,2))a=e.substring(h+d.length,f.index),l[b]={t:a};else{var b=f[2].trim();var d=a;var h=f.index}return g};g.parse=function(e,g){var c=e;var a=g;"object"==typeof c&&(a=c,c="");a=a||{};c=l[c||""];if(c){c.f||(c.f=n(c.t));var f=[null].concat(Object.keys(a));f.push(c.f);a=(new (Function.prototype.bind.apply(Function,f))).apply(null,Object.values(a))}else a="";return a};g.render=g.parse;return g}();
"object"==typeof module&&(module.exports=Template);
